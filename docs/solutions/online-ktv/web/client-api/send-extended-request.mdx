# 发送扩展请求接口说明

- - -

用户通过调用 [sendExtendedRequest](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoCopyrightedMusic#send-extended-request) 接口，传入对应的 command、params，可以获取标签列表、搜索歌曲、榜单歌曲、歌词分片等信息。

- 接口原型

```js
/**
 * 发送扩展功能请求。
 *
 * 详情描述：发送扩展功能请求，访问版权歌曲库获取相关歌单、榜单歌曲信息。
 *
 * 业务场景：用于获取歌曲列表。
 *
 * 调用时机：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
 *
 * @param command 请求命令
 * @param params 请求参数，每个请求命令具备对应的请求参数
 *
 * @return Promise 异步返回请求结果。
 */
async sendExtendedRequest(
  command: string,
  params: any
): Promise<ZegoCopyrightedMusicSendExtendedRequestResponse>
```

- 调用示例（如下以“通过标签获取歌曲”为例）

```js
// 下面以通过标签获取歌曲列表为例
const command = "/tag/song"; // command 参数代表您请求的业务指令，该示例为标签获取歌曲
const params = { vendor_id: 0, tag_id: "587", page: 1, filter: [1], vendor_id: 2 }; // params 参数，是 JSON 格式的字符串，需要您传入的额外参数
copyrightedMusicInst
  .sendExtendedRequest(command, params)
  .then(function({ errorCode, command, result }) {
    console.log(errorCode); // SDK错误码
    console.log(command); // 参数代表您请求的业务指令
    console.log(result); // 回调结果，JSON 格式字符串
  });
```

import Content from '/solutions/online-ktv/snippets/send-extended-request-details.mdx'

<Content />
